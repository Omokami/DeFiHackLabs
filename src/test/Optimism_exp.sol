// SPDX-License-Identifier: UNLICENSED
pragma solidity 0.8.10;

import "ds-test/test.sol";

interface ProxyFactory {
     function createProxy(address masterCopy, bytes calldata data) external returns (address payable proxy);
}

contract ContractTest is DSTest {
    ProxyFactory proxy = ProxyFactory(0x76E2cFc1F5Fa8F6a5b3fC4c8F4788F0116861F9B);
    address public childcontract;
    function testExample() public {
    address(this).call(hex"608060405234801561001057600080fd5b50610f73806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c80631688f0b9146100675780632500510e1461018c57806353e5d9351461026f57806361b69abd146102f2578063addacc0f1461040d578063d18af54d14610490575b600080fd5b61014a6004803603606081101561007d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001906401000000008111156100ba57600080fd5b8201836020820111156100cc57600080fd5b803590602001918460018302840111640100000000831117156100ee57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290803590602001909291905050506105d5565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b61022d600480360360608110156101a257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001906401000000008111156101df57600080fd5b8201836020820111156101f157600080fd5b8035906020019184600183028401116401000000008311171561021357600080fd5b909192939192939080359060200190929190505050610674565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6102776107b7565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156102b757808201518184015260208101905061029c565b50505050905090810190601f1680156102e45780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6103cb6004803603604081101561030857600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019064010000000081111561034557600080fd5b82018360208201111561035757600080fd5b8035906020019184600183028401116401000000008311171561037957600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505091929192905050506107e2565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6104156108d5565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561045557808201518184015260208101905061043a565b50505050905090810190601f1680156104825780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b610593600480360360808110156104a657600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001906401000000008111156104e357600080fd5b8201836020820111156104f557600080fd5b8035906020019184600183028401116401000000008311171561051757600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050919291929080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610900565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b60006105e2848484610af1565b905060008351111561060a5760008060008551602087016000865af1141561060957600080fd5b5b7fa38789425dbeee0239e16ff2d2567e31720127fbc6430758c1a4efc6aef29f8081604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a19392505050565b60006106c58585858080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505084610af1565b905080604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660601b81526014019150506040516020818303038152906040526040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b8381101561077c578082015181840152602081019050610761565b50505050905090810190601f1680156107a95780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b6060604051806020016107c990610c94565b6020820181038252601f19601f82011660405250905090565b6000826040516107f190610c94565b808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050604051809103906000f080158015610843573d6000803e3d6000fd5b50905060008251111561086c5760008060008451602086016000865af1141561086b57600080fd5b5b7fa38789425dbeee0239e16ff2d2567e31720127fbc6430758c1a4efc6aef29f8081604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a192915050565b6060604051806020016108e790610ca1565b6020820181038252601f19601f82011660405250905090565b6000808383604051602001808381526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660601b8152601401925050506040516020818303038152906040528051906020012060001c90506109718686836105d5565b9150600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614610ae8578273ffffffffffffffffffffffffffffffffffffffff16631e52b518838888886040518563ffffffff1660e01b8152600401808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200180602001838152602001828103825284818151815260200191508051906020019080838360005b83811015610a80578082015181840152602081019050610a65565b50505050905090810190601f168015610aad5780820380516001836020036101000a031916815260200191505b5095505050505050600060405180830381600087803b158015610acf57600080fd5b505af1158015610ae3573d6000803e3d6000fd5b505050505b50949350505050565b6000808380519060200120836040516020018083815260200182815260200192505050604051602081830303815290604052805190602001209050606060405180602001610b3e90610c94565b6020820181038252601f19601f820116604052508673ffffffffffffffffffffffffffffffffffffffff166040516020018083805190602001908083835b60208310610b9f5780518252602082019150602081019050602083039250610b7c565b6001836020036101000a038019825116818451168082178552505050505050905001828152602001925050506040516020818303038152906040529050818151826020016000f59250600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610c8b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260138152602001807f437265617465322063616c6c206661696c65640000000000000000000000000081525060200191505060405180910390fd5b50509392505050565b6101e780610cae83390190565b60aa80610e958339019056fe608060405234801561001057600080fd5b506040516101e73803806101e78339818101604052602081101561003357600080fd5b8101908080519060200190929190505050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156100ca576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260248152602001806101c36024913960400191505060405180910390fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505060aa806101196000396000f3fe608060405273ffffffffffffffffffffffffffffffffffffffff600054167fa619486e0000000000000000000000000000000000000000000000000000000060003514156050578060005260206000f35b3660008037600080366000845af43d6000803e60008114156070573d6000fd5b3d6000f3fea265627a7a72315820d8a00dc4fe6bf675a9d7416fc2d00bb3433362aa8186b750f76c4027269667ff64736f6c634300050e0032496e76616c6964206d617374657220636f707920616464726573732070726f7669646564608060405273ffffffffffffffffffffffffffffffffffffffff600054167fa619486e0000000000000000000000000000000000000000000000000000000060003514156050578060005260206000f35b3660008037600080366000845af43d6000803e60008114156070573d6000fd5b3d6000f3fea265627a7a72315820d8a00dc4fe6bf675a9d7416fc2d00bb3433362aa8186b750f76c4027269667ff64736f6c634300050e0032a265627a7a723158201ce3789010194971b13acfa9eebc44ead6ec5ccc8c78026a0dc52d22c3c4b2bd64736f6c634300050e0032");
    address(this).call(hex"60e060405233606090811b60805230901b60a081905260c052600080546001600160a01b031916734f3a120e72c76c22ae802d129f599bfdbc31cb8117905534801561004a57600080fd5b5060805160601c60a05160601c60c05160601c6114d06100ad60003960006101b60152600081816102490152818161047f0152818161088e015281816109860152610ac9015260008181610202015281816104d7015261074801526114d06000f3fe6080604052600436106100eb5760003560e01c8063ac9650d811610084578063bc197c8111610056578063bc197c81146102eb578063ec55688914610333578063f100ff271461035b578063f23a6e611461037b57005b8063ac9650d81461026b578063ad8d5f4814610298578063b837ba80146102ab578063b84ca205146102cb57005b80637104ddb2116100bd5780637104ddb2146101a45780638da5cb5b146101f057806394a61be214610224578063a84173ae1461023757005b806301ffc9a7146100f4578063150b7a021461012a5780633e4cdd451461016f578063684649a61461018f57005b366100f257005b005b34801561010057600080fd5b5061011561010f366004610cc4565b50600190565b60405190151581526020015b60405180910390f35b34801561013657600080fd5b50610156610145366004610d52565b630a85bd0160e11b95945050505050565b6040516001600160e01b03199091168152602001610121565b34801561017b57600080fd5b506100f261018a366004610e75565b6103c1565b34801561019b57600080fd5b506100f2610450565b3480156101b057600080fd5b506101d87f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610121565b3480156101fc57600080fd5b506101d87f000000000000000000000000000000000000000000000000000000000000000081565b6100f2610232366004610fd8565b6104d5565b34801561024357600080fd5b506101d87f000000000000000000000000000000000000000000000000000000000000000081565b34801561027757600080fd5b5061028b6102863660046110ff565b610652565b6040516101219190611198565b6100f26102a6366004610e75565b610746565b3480156102b757600080fd5b506100f26102c63660046111fa565b610854565b3480156102d757600080fd5b506100f26102e63660046111fa565b6108ff565b3480156102f757600080fd5b50610156610306366004611213565b7fbc197c819b3e337a6f9652dd10becd7eef83032af3b9d958d3d42f669414662198975050505050505050565b34801561033f57600080fd5b506101d87376e2cfc1f5fa8f6a5b3fc4c8f4788f0116861f9b81565b34801561036757600080fd5b506100f26103763660046112cd565b610a44565b34801561038757600080fd5b506101566103963660046112f9565b7ff23a6e612e1ff4830e658fe43f4e3cb4a5f8170bd5d9e69fb5d7a7fa9e4fdf979695505050505050565b60005b8181101561044a576040516361b69abd60e01b81527376e2cfc1f5fa8f6a5b3fc4c8f4788f0116861f9b906361b69abd906104059087908790600401611370565b600060405180830381600087803b15801561041f57600080fd5b505af1158015610433573d6000803e3d6000fd5b5050505080806104429061139c565b9150506103c4565b50505050565b6040516361b69abd60e01b81527376e2cfc1f5fa8f6a5b3fc4c8f4788f0116861f9b906361b69abd906104a7907f0000000000000000000000000000000000000000000000000000000000000000906004016113c5565b600060405180830381600087803b1580156104c157600080fd5b505af115801561044a573d6000803e3d6000fd5b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316331461054c5760405162461bcd60e51b815260206004820152601760248201527631b0b63632b91034b9903737ba103a34329037bbb732b960491b60448201526064015b60405180910390fd5b60005b825181101561044a57600084828151811061056c5761056c6113e8565b60200260200101516001600160a01b031683838151811061058f5761058f6113e8565b60200260200101518584815181106105a9576105a96113e8565b60200260200101516040516105be91906113fe565b60006040518083038185875af1925050503d80600081146105fb576040519150601f19603f3d011682016040523d82523d6000602084013e610600565b606091505b505090508061063f5760405162461bcd60e51b815260206004820152600b60248201526a18d85b1b0819985a5b195960aa1b6044820152606401610543565b508061064a8161139c565b91505061054f565b6060816001600160401b0381111561066c5761066c610dc0565b60405190808252806020026020018201604052801561069f57816020015b606081526020019060019003908161068a5790505b50905060005b8281101561073f5761070f308585848181106106c3576106c36113e8565b90506020028101906106d5919061141a565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250610b8292505050565b828281518110610721576107216113e8565b602002602001018190525080806107379061139c565b9150506106a5565b5092915050565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031633146107b85760405162461bcd60e51b815260206004820152601760248201527631b0b63632b91034b9903737ba103a34329037bbb732b960491b6044820152606401610543565b6000836001600160a01b031682846040516107d391906113fe565b60006040518083038185875af1925050503d8060008114610810576040519150601f19603f3d011682016040523d82523d6000602084013e610815565b606091505b505090508061044a5760405162461bcd60e51b815260206004820152600b60248201526a18d85b1b0819985a5b195960aa1b6044820152606401610543565b60005b818110156108fb576040516361b69abd60e01b81527376e2cfc1f5fa8f6a5b3fc4c8f4788f0116861f9b906361b69abd906108b6907f0000000000000000000000000000000000000000000000000000000000000000906004016113c5565b600060405180830381600087803b1580156108d057600080fd5b505af11580156108e4573d6000803e3d6000fd5b5050505080806108f39061139c565b915050610857565b5050565b6000546001600160a01b03163b1561094c5760405162461bcd60e51b815260206004820152601060248201526f135d5cdd081a5cc818dbdb9d1c9858dd60821b6044820152606401610543565b60005b818110156109f3576040516361b69abd60e01b81527376e2cfc1f5fa8f6a5b3fc4c8f4788f0116861f9b906361b69abd906109ae907f0000000000000000000000000000000000000000000000000000000000000000906004016113c5565b600060405180830381600087803b1580156109c857600080fd5b505af11580156109dc573d6000803e3d6000fd5b5050505080806109eb9061139c565b91505061094f565b506000546001600160a01b03163b610a415760405162461bcd60e51b8152602060048201526011602482015270135d5cdd081b9bdd0818dbdb9d1c9858dd607a1b6044820152606401610543565b50565b6001600160a01b0381163b15610a8f5760405162461bcd60e51b815260206004820152601060248201526f135d5cdd081a5cc818dbdb9d1c9858dd60821b6044820152606401610543565b60005b82811015610b36576040516361b69abd60e01b81527376e2cfc1f5fa8f6a5b3fc4c8f4788f0116861f9b906361b69abd90610af1907f0000000000000000000000000000000000000000000000000000000000000000906004016113c5565b600060405180830381600087803b158015610b0b57600080fd5b505af1158015610b1f573d6000803e3d6000fd5b505050508080610b2e9061139c565b915050610a92565b506001600160a01b0381163b6108fb5760405162461bcd60e51b8152602060048201526011602482015270135d5cdd081b9bdd0818dbdb9d1c9858dd607a1b6044820152606401610543565b6060610ba7838360405180606001604052806027815260200161147460279139610bae565b9392505050565b60606001600160a01b0384163b610c165760405162461bcd60e51b815260206004820152602660248201527f416464726573733a2064656c65676174652063616c6c20746f206e6f6e2d636f6044820152651b9d1c9858dd60d21b6064820152608401610543565b600080856001600160a01b031685604051610c3191906113fe565b600060405180830381855af49150503d8060008114610c6c576040519150601f19603f3d011682016040523d82523d6000602084013e610c71565b606091505b5091509150610c81828286610c8b565b9695505050505050565b60608315610c9a575081610ba7565b825115610caa5782518084602001fd5b8160405162461bcd60e51b81526004016105439190611460565b600060208284031215610cd657600080fd5b81356001600160e01b031981168114610ba757600080fd5b80356001600160a01b0381168114610d0557600080fd5b919050565b60008083601f840112610d1c57600080fd5b5081356001600160401b03811115610d3357600080fd5b602083019150836020828501011115610d4b57600080fd5b9250929050565b600080600080600060808688031215610d6a57600080fd5b610d7386610cee565b9450610d8160208701610cee565b93506040860135925060608601356001600160401b03811115610da357600080fd5b610daf88828901610d0a565b969995985093965092949392505050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b0381118282101715610dfe57610dfe610dc0565b604052919050565b600082601f830112610e1757600080fd5b81356001600160401b03811115610e3057610e30610dc0565b610e43601f8201601f1916602001610dd6565b818152846020838601011115610e5857600080fd5b816020850160208301376000918101602001919091529392505050565b600080600060608486031215610e8a57600080fd5b610e9384610cee565b925060208401356001600160401b03811115610eae57600080fd5b610eba86828701610e06565b925050604084013590509250925092565b60006001600160401b03821115610ee457610ee4610dc0565b5060051b60200190565b600082601f830112610eff57600080fd5b81356020610f14610f0f83610ecb565b610dd6565b82815260059290921b84018101918181019086841115610f3357600080fd5b8286015b84811015610f725780356001600160401b03811115610f565760008081fd5b610f648986838b0101610e06565b845250918301918301610f37565b509695505050505050565b600082601f830112610f8e57600080fd5b81356020610f9e610f0f83610ecb565b82815260059290921b84018101918181019086841115610fbd57600080fd5b8286015b84811015610f725780358352918301918301610fc1565b600080600060608486031215610fed57600080fd5b83356001600160401b038082111561100457600080fd5b818601915086601f83011261101857600080fd5b81356020611028610f0f83610ecb565b82815260059290921b8401810191818101908a84111561104757600080fd5b948201945b8386101561106c5761105d86610cee565b8252948201949082019061104c565b9750508701359250508082111561108257600080fd5b61108e87838801610eee565b935060408601359150808211156110a457600080fd5b506110b186828701610f7d565b9150509250925092565b60008083601f8401126110cd57600080fd5b5081356001600160401b038111156110e457600080fd5b6020830191508360208260051b8501011115610d4b57600080fd5b6000806020838503121561111257600080fd5b82356001600160401b0381111561112857600080fd5b611134858286016110bb565b90969095509350505050565b60005b8381101561115b578181015183820152602001611143565b8381111561044a5750506000910152565b60008151808452611184816020860160208601611140565b601f01601f19169290920160200192915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b828110156111ed57603f198886030184526111db85835161116c565b945092850192908501906001016111bf565b5092979650505050505050565b60006020828403121561120c57600080fd5b5035919050565b60008060008060008060008060a0898b03121561122f57600080fd5b61123889610cee565b975061124660208a01610cee565b965060408901356001600160401b038082111561126257600080fd5b61126e8c838d016110bb565b909850965060608b013591508082111561128757600080fd5b6112938c838d016110bb565b909650945060808b01359150808211156112ac57600080fd5b506112b98b828c01610d0a565b999c989b5096995094979396929594505050565b600080604083850312156112e057600080fd5b823591506112f060208401610cee565b90509250929050565b60008060008060008060a0878903121561131257600080fd5b61131b87610cee565b955061132960208801610cee565b9450604087013593506060870135925060808701356001600160401b0381111561135257600080fd5b61135e89828a01610d0a565b979a9699509497509295939492505050565b6001600160a01b03831681526040602082018190526000906113949083018461116c565b949350505050565b60006000198214156113be57634e487b7160e01b600052601160045260246000fd5b5060010190565b6001600160a01b0391909116815260406020820181905260009082015260600190565b634e487b7160e01b600052603260045260246000fd5b60008251611410818460208701611140565b9190910192915050565b6000808335601e1984360301811261143157600080fd5b8301803591506001600160401b0382111561144b57600080fd5b602001915036819003821315610d4b57600080fd5b602081526000610ba7602083018461116c56fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220c5dabeba7834e21cfc200e26cbcd7a9ee0e6b4591ea0756d8e6a551a209399a764736f6c63430008080033");
    
    while (childcontract != 0x4f3a120E72C76c22ae802D129F599BFDbc31cb81 ) {
    childcontract = proxy.createProxy(0xE7145dd6287AE53326347f3A6694fCf2954bcD8A,"0x");
    emit log_named_address("Created Wintermute contract", childcontract);
    }

}
}
